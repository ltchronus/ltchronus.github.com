<h1>多叉树复习</h1>

<p>「多叉树」就是分 N 岔的树，每個节点可以有零个、一个、两个、……、 N 个小孩。
类似：</p>

<p><img src="http://img4.tuchuang.org/uploads/2014/03/QQ20140304-1.png" alt="此处输入图片的描述"></p>

<p>本文主要内容为:
 1. 文件读入树状数据（json格式），构造多叉树
 2. 多叉树的深度遍历
 3. 多叉树的层次遍历</p>

<!-- more -->

<h2>多叉树节点构造</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TreePieNode</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span><span class="c1">//节点名字</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">children</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span><span class="c1">//子节点</span>
    <span class="kd">private</span> <span class="n">TreePieNode</span> <span class="n">parent</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span><span class="c1">//父节点</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">level</span><span class="o">;</span><span class="c1">//深度</span>

    <span class="kd">public</span> <span class="nf">TreePieNode</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">children</span><span class="o">,</span>
                                     <span class="n">TreePieNode</span> <span class="n">parent</span><span class="o">,</span> <span class="kt">int</span> <span class="n">level</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">children</span> <span class="o">=</span> <span class="n">children</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">level</span> <span class="o">=</span> <span class="n">level</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">TreePieNode</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="nf">getChildren</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">children</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setChildren</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">children</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">children</span> <span class="o">=</span> <span class="n">children</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">TreePieNode</span> <span class="nf">getParent</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setParent</span><span class="o">(</span><span class="n">TreePieNode</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getLevel</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">level</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLevel</span><span class="o">(</span><span class="kt">int</span> <span class="n">level</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">level</span> <span class="o">=</span> <span class="n">level</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>
<h2>读取文件生成树</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java">    <span class="cm">/**</span>
<span class="cm">     * read data from the json file</span>
<span class="cm">     * </span>
<span class="cm">     * @param pathName</span>
<span class="cm">     *            the path of json file</span>
<span class="cm">     * @return the whole data of the tree</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">fileInput</span><span class="o">(</span><span class="n">String</span> <span class="n">pathName</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">pathName</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">context</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">FileReader</span> <span class="n">fileReader</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">BufferedReader</span> <span class="n">bufferedReader</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>

            <span class="n">fileReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
            <span class="n">bufferedReader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="n">fileReader</span><span class="o">);</span>
            <span class="n">String</span> <span class="n">temp</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="n">StringBuffer</span> <span class="n">stringBuffer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>

            <span class="k">while</span> <span class="o">((</span><span class="n">temp</span> <span class="o">=</span> <span class="n">bufferedReader</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="n">stringBuffer</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">temp</span><span class="o">);</span>

            <span class="n">context</span> <span class="o">=</span> <span class="n">stringBuffer</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>

                <span class="n">bufferedReader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
                <span class="n">fileReader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>

            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">context</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">String</span> <span class="n">context</span> <span class="o">=</span> <span class="n">fileInput</span><span class="o">(</span><span class="n">pathname</span><span class="o">);</span>
    <span class="n">TreePieNode</span> <span class="n">rootNode</span> <span class="o">=</span> <span class="n">JSON</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">TreePieNode</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<h2>深度遍历</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java"> <span class="cm">/**</span>
<span class="cm">   * @param node  the rootNode of the tree</span>
<span class="cm">   */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">depthFirstTraverse</span><span class="o">(</span><span class="n">TreePieNode</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">nodeList</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">getChildren</span><span class="o">();</span>
        <span class="kt">float</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="n">f</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">nodeList</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">TreePieNode</span> <span class="n">tmpNode</span> <span class="o">:</span> <span class="n">node</span><span class="o">.</span><span class="na">getChildren</span><span class="o">())</span> <span class="o">{</span>

                   <span class="n">process</span><span class="o">(</span><span class="n">tmpNode</span><span class="o">);</span>
                   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">tmpNode</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></div>
<h2>层次遍历</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java">    <span class="cm">/**</span>
<span class="cm">     * @param root</span>
<span class="cm">     * @retrun a stack of all tree nodes </span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">Stack</span> <span class="nf">iteratorTree</span><span class="o">(</span><span class="n">TreePieNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">TreePieNode</span> <span class="n">p</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">Queue</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">TreePieNode</span><span class="o">&gt;();</span>
        <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">();</span>

        <span class="n">root</span><span class="o">.</span><span class="na">setLevel</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">q</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">==</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>

            <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">getChildren</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>

                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">.</span><span class="na">getChildren</span><span class="o">().</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>

                    <span class="n">TreePieNode</span> <span class="n">tmpNode</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getChildren</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                    <span class="n">tmpNode</span><span class="o">.</span><span class="na">setLevel</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">getLevel</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
                    <span class="n">q</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">getChildren</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="n">s</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div>
<h2>测试代码和结果</h2>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;深度优先&quot;</span><span class="o">);</span>
<span class="n">process</span><span class="o">(</span><span class="n">rootNode</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;广度优先&quot;</span><span class="o">);</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">f1</span><span class="o">(</span><span class="n">rootNode</span><span class="o">);</span>
<span class="n">TreePieNode</span> <span class="n">p</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">while</span><span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()==</span> <span class="kc">false</span><span class="o">){</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">getName</span><span class="o">()+</span><span class="s">&quot; :&quot;</span><span class="o">+</span><span class="n">p</span><span class="o">.</span><span class="na">getLevel</span><span class="o">());</span>
<span class="o">}</span>
<span class="c1">//深度优先</span>
<span class="c1">//Hight</span>
<span class="c1">//width</span>
<span class="c1">//AgglomerativeCluster</span>
<span class="c1">//CommunityStructure</span>
<span class="c1">//HierarchicalCluster</span>
<span class="c1">//MergeEdge</span>
<span class="c1">//cluster</span>
<span class="c1">//BetweennessCentrality</span>
<span class="c1">//LinkDistance</span>
<span class="c1">//MaxFlowMinCut</span>
<span class="c1">//ShortestPaths</span>
<span class="c1">//SpanningTree</span>
<span class="c1">//graph</span>
<span class="c1">//analytics</span>
<span class="c1">//Easing</span>
<span class="c1">//FunctionSequence</span>
<span class="c1">//ArrayInterpolator</span>
<span class="c1">//ColorInterpolator</span>
<span class="c1">//DateInterpolator</span>
<span class="c1">//Interpolator</span>
<span class="c1">//MatrixInterpolator</span>
<span class="c1">//NumberInterpolator</span>
<span class="c1">//ObjectInterpolator</span>
<span class="c1">//PointInterpolator</span>
<span class="c1">//RectangleInterpolator</span>
<span class="c1">//interpolate</span>
<span class="c1">//ISchedulable</span>
<span class="c1">//Parallel</span>
<span class="c1">//Pause</span>
<span class="c1">//Scheduler</span>
<span class="c1">//Sequence</span>
<span class="c1">//Transition</span>
<span class="c1">//Transitioner</span>
<span class="c1">//TransitionEvent</span>
<span class="c1">//Tween</span>
<span class="c1">//animate</span>
<span class="c1">//广度优先</span>
<span class="c1">//width :4</span>
<span class="c1">//Hight :4</span>
<span class="c1">//RectangleInterpolator :3</span>
<span class="c1">//PointInterpolator :3</span>
<span class="c1">//ObjectInterpolator :3</span>
<span class="c1">//NumberInterpolator :3</span>
<span class="c1">//MatrixInterpolator :3</span>
<span class="c1">//Interpolator :3</span>
<span class="c1">//DateInterpolator :3</span>
<span class="c1">//ColorInterpolator :3</span>
<span class="c1">//ArrayInterpolator :3</span>
<span class="c1">//SpanningTree :3</span>
<span class="c1">//ShortestPaths :3</span>
<span class="c1">//MaxFlowMinCut :3</span>
<span class="c1">//LinkDistance :3</span>
<span class="c1">//BetweennessCentrality :3</span>
<span class="c1">//MergeEdge :3</span>
<span class="c1">//HierarchicalCluster :3</span>
<span class="c1">//CommunityStructure :3</span>
<span class="c1">//AgglomerativeCluster :3</span>
<span class="c1">//Tween :2</span>
<span class="c1">//TransitionEvent :2</span>
<span class="c1">//Transitioner :2</span>
<span class="c1">//Transition :2</span>
<span class="c1">//Sequence :2</span>
<span class="c1">//Scheduler :2</span>
<span class="c1">//Pause :2</span>
<span class="c1">//Parallel :2</span>
<span class="c1">//ISchedulable :2</span>
<span class="c1">//interpolate :2</span>
<span class="c1">//FunctionSequence :2</span>
<span class="c1">//Easing :2</span>
<span class="c1">//graph :2</span>
<span class="c1">//cluster :2</span>
<span class="c1">//animate :1</span>
<span class="c1">//analytics :1</span>
<span class="c1">//flare :0</span>
</code></pre></div>